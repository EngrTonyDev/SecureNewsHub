{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\m_jim\\\\Desktop\\\\isw711\\\\frontend\\\\src\\\\pages\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport VerifyPhoneCodeModal from \"../components/VerifyPhoneCodeModal\";\nimport { login2FA } from \"../services/AuthService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      error: {\n        show: false,\n        msg: ''\n      },\n      openModal: false\n    };\n\n    this.handleCloseModal = () => {\n      this.setState({\n        openModal: false\n      });\n    };\n\n    this.handleChangeInput = async e => {\n      await this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleLogin = async e => {\n      e.preventDefault();\n      await this.setState({\n        error: {\n          show: false,\n          msg: ''\n        }\n      });\n      const {\n        email,\n        password\n      } = this.state;\n\n      if (!email || email.trim() === '' || !password || password.trim() === '') {\n        return;\n      }\n\n      const {\n        error,\n        msg\n      } = await login2FA({\n        email,\n        password\n      });\n\n      if (error) {\n        this.setState({\n          error: {\n            show: true,\n            msg\n          }\n        });\n        return;\n      }\n\n      this.setState({\n        openModal: true\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"vh-100 gradient-custom\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container py-5 h-100\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row d-flex justify-content-center align-items-center h-100\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-md-8 col-lg-6 col-xl-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card bg-dark text-white\",\n              style: {\n                borderRadius: '1rem'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body p-5 text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  className: \"form-group\",\n                  onSubmit: e => this.handleLogin(e),\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-md-4 pb-5\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                      className: \"fw-bold mb-2 text-uppercase\",\n                      children: \"Inicio de sesi\\xF3n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 58,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-white-50 mb-5\",\n                      children: \"Por favor ingrese su correo y contrase\\xF1a\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 59,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-outline form-white mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"email\",\n                        id: \"typeEmailX\",\n                        className: \"form-control form-control-lg\",\n                        name: \"email\",\n                        required: true,\n                        onChange: this.handleChangeInput,\n                        value: this.state.email\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 62,\n                        columnNumber: 13\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-label\",\n                        htmlFor: \"typeEmailX\",\n                        children: \"Correo\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 70,\n                        columnNumber: 13\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 61,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-outline form-white mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"password\",\n                        id: \"typePasswordX\",\n                        className: \"form-control form-control-lg\",\n                        name: \"password\",\n                        required: true,\n                        value: this.state.password,\n                        onChange: this.handleChangeInput\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 74,\n                        columnNumber: 13\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-label\",\n                        htmlFor: \"typePasswordX\",\n                        children: \"Contrase\\xF1a\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 82,\n                        columnNumber: 13\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 73,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-outline-light btn-lg px-5\",\n                      type: \"submit\",\n                      children: \"Entrar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 85,\n                      columnNumber: 12\n                    }, this), this.state.error.show && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"alert alert-danger my-3\",\n                      role: \"alert\",\n                      children: this.state.error.msg\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 13\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 56,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"mb-0\",\n                      children: [\"\\xBFNo tienes una cuenta? \", /*#__PURE__*/_jsxDEV(Link, {\n                        to: \"/register\",\n                        className: \"text-white-50 fw-bold\",\n                        children: \"Registrase\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 96,\n                        columnNumber: 55\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(VerifyPhoneCodeModal, {\n        openModal: this.state.openModal,\n        handleCloseModal: this.handleCloseModal,\n        email: this.state.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/m_jim/Desktop/isw711/frontend/src/pages/Login.js"],"names":["React","Component","Link","VerifyPhoneCodeModal","login2FA","Login","state","email","password","error","show","msg","openModal","handleCloseModal","setState","handleChangeInput","e","target","name","value","handleLogin","preventDefault","trim","render","borderRadius"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport VerifyPhoneCodeModal from \"../components/VerifyPhoneCodeModal\";\r\n\r\nimport { login2FA } from \"../services/AuthService\";\r\n\r\nclass Login extends Component {\r\n\tstate = {\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t\terror: { show: false, msg: '' },\r\n\t\topenModal: false\r\n\t};\r\n\r\n\thandleCloseModal = () => {\r\n\t\tthis.setState({ openModal: false });\r\n\t}\r\n\r\n\t//Método para capturar la informacion de los inputs\r\n\thandleChangeInput = async (e) => {\r\n\t\tawait this.setState({\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\t//Método para petición http de iniciar sesión\r\n\thandleLogin = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tawait this.setState({ error: { show: false, msg: '' } });\r\n\r\n\t\tconst { email, password } = this.state;\r\n\t\tif (!email || email.trim() === '' || !password || password.trim() === '') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { error, msg } = await login2FA({ email, password });\r\n\t\tif (error) {\r\n\t\t\tthis.setState({ error: { show: true, msg } });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.setState({ openModal: true })\r\n\t};\r\n\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<section className=\"vh-100 gradient-custom\">\r\n\t\t\t\t<div className=\"container py-5 h-100\">\r\n\t\t\t\t\t<div className=\"row d-flex justify-content-center align-items-center h-100\">\r\n\t\t\t\t\t\t<div className=\"col-12 col-md-8 col-lg-6 col-xl-5\">\r\n\t\t\t\t\t\t\t<div className=\"card bg-dark text-white\" style={{ borderRadius: '1rem' }}>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body p-5 text-center\">\r\n\t\t\t\t\t\t\t\t\t<form className=\"form-group\" onSubmit={(e) => this.handleLogin(e)}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-md-4 pb-5\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"fw-bold mb-2 text-uppercase\">Inicio de sesión</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-white-50 mb-5\">Por favor ingrese su correo y contraseña</p>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-outline form-white mb-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"typeEmailX\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeInput}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.email} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"form-label\" htmlFor=\"typeEmailX\">Correo</label>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-outline form-white mb-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"typePasswordX\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeInput} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"form-label\" htmlFor=\"typePasswordX\">Contraseña</label>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-light btn-lg px-5\" type=\"submit\">Entrar</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.error.show &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"alert alert-danger my-3\" role=\"alert\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.error.msg}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"mb-0\">¿No tienes una cuenta? <Link to=\"/register\" className=\"text-white-50 fw-bold\">Registrase</Link></p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<VerifyPhoneCodeModal openModal={this.state.openModal} handleCloseModal={this.handleCloseModal} email={this.state.email} />\r\n\t\t\t</section>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}