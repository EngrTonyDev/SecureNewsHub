{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tony\\\\OneDrive - Universidad T\\xE9cnica Nacional\\\\Escritorio\\\\proyecto\\\\proyecto final\\\\ISW-711-final-cliente\\\\src\\\\components\\\\VerifyPhoneCodeModal.js\";\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nimport React, { Component } from 'react';\nimport { verifyPhoneCode } from '../services/authService';\n//import { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass VerifyPhoneCodeModal extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      form: {\n        email: '',\n        phoneCode: ''\n      },\n      error: {\n        show: false,\n        msg: ''\n      }\n    };\n    this.handleCloseModal = () => {\n      this.props.handleCloseModal();\n    };\n    this.handleVerifyCode = async () => {\n      this.state.form.email = document.getElementById(\"email\").value;\n      this.state.form.phoneCode = document.getElementById(\"code\").value;\n      if (this.state.form.phoneCode !== '') {\n        const form = await verifyPhoneCode(this.state.form);\n        if (!form.error) {\n          console.log(\"form.data.token\");\n          console.log(form.data.token);\n          localStorage.setItem('token', form.data.token);\n          // Redirigirlo al index\n          window.location.href = \"/index\"; //return index website\n          //history.push('/news');\n        } else {\n          alert(\"El código ingresado en incorrecto, vuelve a intentarlo.\");\n        }\n      } else {\n        alert(\"Debe ingresar un valor!\");\n      }\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: this.props.openModal,\n      children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n        style: {\n          display: 'block'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            float: 'right',\n            cursor: 'pointer'\n          },\n          onClick: () => this.handleCloseModal(),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Ingrese su c\\xF3digo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            id: \"code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), this.state.error.show && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger my-3\",\n          role: \"alert\",\n          children: this.state.error.msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success\",\n          onClick: () => this.handleVerifyCode(),\n          children: \"Verificar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: () => this.handleCloseModal(),\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default VerifyPhoneCodeModal;","map":{"version":3,"names":["Modal","ModalBody","ModalFooter","ModalHeader","React","Component","verifyPhoneCode","jsxDEV","_jsxDEV","VerifyPhoneCodeModal","constructor","arguments","state","form","email","phoneCode","error","show","msg","handleCloseModal","props","handleVerifyCode","document","getElementById","value","console","log","data","token","localStorage","setItem","window","location","href","alert","render","isOpen","openModal","children","style","display","float","cursor","onClick","fileName","_jsxFileName","lineNumber","columnNumber","className","htmlFor","id","role"],"sources":["C:/Users/tony/OneDrive - Universidad Técnica Nacional/Escritorio/proyecto/proyecto final/ISW-711-final-cliente/src/components/VerifyPhoneCodeModal.js"],"sourcesContent":["import { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\r\nimport React, { Component } from 'react'\r\nimport { verifyPhoneCode } from '../services/authService';\r\n//import { useHistory } from 'react-router-dom';\r\n\r\n\r\nclass VerifyPhoneCodeModal extends Component {\r\n\r\n    state = {\r\n        form: {\r\n            email: '',\r\n            phoneCode: '',\r\n\r\n\r\n        },\r\n\r\n        error: { show: false, msg: '' },\r\n    }\r\n\r\n\r\n\r\n    handleCloseModal = () => {\r\n        this.props.handleCloseModal();\r\n    }\r\n\r\n    handleVerifyCode = async () => {\r\n\r\n        this.state.form.email = document.getElementById(\"email\").value;\r\n        this.state.form.phoneCode = document.getElementById(\"code\").value;\r\n\r\n        if (this.state.form.phoneCode !== '') {\r\n\r\n            const form = await verifyPhoneCode(this.state.form);\r\n\r\n            if (!form.error) {\r\n                console.log(\"form.data.token\");\r\n                console.log(form.data.token);\r\n                localStorage.setItem('token', form.data.token);\r\n                // Redirigirlo al index\r\n                window.location.href = \"/index\";//return index website\r\n                //history.push('/news');\r\n\r\n            } else {\r\n                alert(\"El código ingresado en incorrecto, vuelve a intentarlo.\")\r\n            }\r\n        } else {\r\n            alert(\"Debe ingresar un valor!\")\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Modal isOpen={this.props.openModal}>\r\n\r\n                <ModalHeader style={{ display: 'block' }}>\r\n                    <span style={{ float: 'right', cursor: 'pointer' }} onClick={() => this.handleCloseModal()}>\r\n                        &times;\r\n                    </span>\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"name\">Ingrese su código</label>\r\n                        <input className=\"form-control\" id=\"code\" />\r\n                    </div>\r\n                    {this.state.error.show && (\r\n                        <div className=\"alert alert-danger my-3\" role=\"alert\">\r\n                            {this.state.error.msg}\r\n                        </div>\r\n                    )}\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn btn-success\" onClick={() => this.handleVerifyCode()}>\r\n                        Verificar\r\n                    </button>\r\n                    <button className=\"btn btn-danger\" onClick={() => this.handleCloseModal()}>\r\n                        Cancelar\r\n                    </button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default VerifyPhoneCodeModal;\r\n"],"mappings":";AAAA,SAASA,KAAK,EAAEC,SAAS,EAAEC,WAAW,EAAEC,WAAW,QAAQ,YAAY;AACvE,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,eAAe,QAAQ,yBAAyB;AACzD;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAGA,MAAMC,oBAAoB,SAASJ,SAAS,CAAC;EAAAK,YAAA;IAAA,SAAAC,SAAA;IAAA,KAEzCC,KAAK,GAAG;MACJC,IAAI,EAAE;QACFC,KAAK,EAAE,EAAE;QACTC,SAAS,EAAE;MAGf,CAAC;MAEDC,KAAK,EAAE;QAAEC,IAAI,EAAE,KAAK;QAAEC,GAAG,EAAE;MAAG;IAClC,CAAC;IAAA,KAIDC,gBAAgB,GAAG,MAAM;MACrB,IAAI,CAACC,KAAK,CAACD,gBAAgB,EAAE;IACjC,CAAC;IAAA,KAEDE,gBAAgB,GAAG,YAAY;MAE3B,IAAI,CAACT,KAAK,CAACC,IAAI,CAACC,KAAK,GAAGQ,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC,CAACC,KAAK;MAC9D,IAAI,CAACZ,KAAK,CAACC,IAAI,CAACE,SAAS,GAAGO,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAACC,KAAK;MAEjE,IAAI,IAAI,CAACZ,KAAK,CAACC,IAAI,CAACE,SAAS,KAAK,EAAE,EAAE;QAElC,MAAMF,IAAI,GAAG,MAAMP,eAAe,CAAC,IAAI,CAACM,KAAK,CAACC,IAAI,CAAC;QAEnD,IAAI,CAACA,IAAI,CAACG,KAAK,EAAE;UACbS,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;UAC9BD,OAAO,CAACC,GAAG,CAACb,IAAI,CAACc,IAAI,CAACC,KAAK,CAAC;UAC5BC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEjB,IAAI,CAACc,IAAI,CAACC,KAAK,CAAC;UAC9C;UACAG,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ,CAAC;UAChC;QAEJ,CAAC,MAAM;UACHC,KAAK,CAAC,yDAAyD,CAAC;QACpE;MACJ,CAAC,MAAM;QACHA,KAAK,CAAC,yBAAyB,CAAC;MACpC;IAIJ,CAAC;EAAA;EAEDC,MAAMA,CAAA,EAAG;IACL,oBACI3B,OAAA,CAACR,KAAK;MAACoC,MAAM,EAAE,IAAI,CAAChB,KAAK,CAACiB,SAAU;MAAAC,QAAA,gBAEhC9B,OAAA,CAACL,WAAW;QAACoC,KAAK,EAAE;UAAEC,OAAO,EAAE;QAAQ,CAAE;QAAAF,QAAA,eACrC9B,OAAA;UAAM+B,KAAK,EAAE;YAAEE,KAAK,EAAE,OAAO;YAAEC,MAAM,EAAE;UAAU,CAAE;UAACC,OAAO,EAAEA,CAAA,KAAM,IAAI,CAACxB,gBAAgB,EAAG;UAAAmB,QAAA,EAAC;QAE5F;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAO;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACG,eACdvC,OAAA,CAACP,SAAS;QAAAqC,QAAA,gBACN9B,OAAA;UAAKwC,SAAS,EAAC,YAAY;UAAAV,QAAA,gBACvB9B,OAAA;YAAOyC,OAAO,EAAC,MAAM;YAAAX,QAAA,EAAC;UAAiB;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAQ,eAC/CvC,OAAA;YAAOwC,SAAS,EAAC,cAAc;YAACE,EAAE,EAAC;UAAM;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAG;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAC1C,EACL,IAAI,CAACnC,KAAK,CAACI,KAAK,CAACC,IAAI,iBAClBT,OAAA;UAAKwC,SAAS,EAAC,yBAAyB;UAACG,IAAI,EAAC,OAAO;UAAAb,QAAA,EAChD,IAAI,CAAC1B,KAAK,CAACI,KAAK,CAACE;QAAG;UAAA0B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAE5B;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACO,eACZvC,OAAA,CAACN,WAAW;QAAAoC,QAAA,gBACR9B,OAAA;UAAQwC,SAAS,EAAC,iBAAiB;UAACL,OAAO,EAAEA,CAAA,KAAM,IAAI,CAACtB,gBAAgB,EAAG;UAAAiB,QAAA,EAAC;QAE5E;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACTvC,OAAA;UAAQwC,SAAS,EAAC,gBAAgB;UAACL,OAAO,EAAEA,CAAA,KAAM,IAAI,CAACxB,gBAAgB,EAAG;UAAAmB,QAAA,EAAC;QAE3E;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACV;EAEhB;AACJ;AAGA,eAAetC,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}