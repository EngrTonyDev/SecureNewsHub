{"ast":null,"code":"import axios from \"axios\";\nconst URL = 'http://localhost:4000/';\nexport const getSources = async () => {\n  try {\n    const result = await axios.get(`${URL}newsource`, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (result.status === 200) {\n      //console.log(result);\n      return {\n        error: false,\n        data: result.data,\n        msg: result.data.msg\n      };\n    }\n    return {\n      error: true,\n      data: null,\n      msg: 'Error interno del servidor'\n    };\n  } catch (error) {\n    if (error && error.response && error.response.data && error.response.data.msg) {\n      return {\n        error: true,\n        data: null,\n        msg: error.response.data.msg\n      };\n    }\n    console.log(error.response);\n    return {\n      error: true,\n      data: null,\n      msg: 'Error interno del servidor'\n    };\n  }\n};\nexport const createSource = async data => {\n  console.log(\"data\");\n  console.log(data);\n  try {\n    //const result = await axios.post(`${URL}source`, data, { headers: { 'Content-Type': 'application/json' } });\n    const result = await axios.post(`${URL}newsource`, data, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (result.status === 201) {\n      return {\n        error: false,\n        data: result.data,\n        msg: 'Elemento creado'\n      };\n    }\n    return {\n      error: true,\n      data: null,\n      msg: 'Error interno del servidor'\n    };\n  } catch (error) {\n    if (error && error.response && error.response.data && error.response.data.msg) {\n      return {\n        error: true,\n        data: null,\n        msg: error.response.data.msg\n      };\n    }\n    return {\n      error: true,\n      data: null,\n      msg: 'Error interno del servidor'\n    };\n  }\n};\nexport const deleteSource = async source => {\n  try {\n    const result = await axios.delete(`${URL}newsource?id=${source}`, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    //console.log(category+\"hola1\")\n    if (result.status === 204) {\n      return {\n        error: false,\n        data: null,\n        msg: 'Elemento borrado'\n      };\n    }\n    return {\n      error: true,\n      data: null,\n      msg: 'Error interno del servidor'\n    };\n  } catch (error) {\n    if (error && error.response && error.response.data && error.response.data.msg) {\n      return {\n        error: true,\n        data: null,\n        msg: error.response.data.msg\n      };\n    }\n    console.log(source + \"hola2\");\n    console.log(error.response);\n    return {\n      error: true,\n      data: null,\n      msg: 'Error interno del servidor'\n    };\n  }\n};\nexport const updateSource = async source => {\n  console.log(\"source._id\");\n  console.log(source._id);\n  try {\n    const result = await axios.patch(`${URL}newsource`, source, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (result.status === 200) {\n      return {\n        error: false,\n        source: result.data,\n        msg: 'Elemento guardado'\n      };\n    }\n    return {\n      error: true,\n      source: null,\n      msg: 'Error interno del servidor'\n    };\n  } catch (error) {\n    if (error && error.response && error.response.source && error.response.source.msg) {\n      return {\n        error: true,\n        source: null,\n        msg: error.response.source.msg\n      };\n    }\n    console.log(error.response);\n    return {\n      error: true,\n      source: null,\n      msg: 'Error interno del servidor'\n    };\n  }\n};","map":{"version":3,"names":["axios","URL","getSources","result","get","headers","status","error","data","msg","response","console","log","createSource","post","deleteSource","source","delete","updateSource","_id","patch"],"sources":["C:/Users/tony/OneDrive - Universidad TÃ©cnica Nacional/Escritorio/proyecto/proyecto final/ISW-711-final-cliente/src/services/newSourceService.js"],"sourcesContent":["import axios from \"axios\"\n\nconst URL = 'http://localhost:4000/';\n\nexport const getSources = async () => {\n    try {\n        const result = await axios.get(`${URL}newsource`, { headers: { 'Content-Type': 'application/json' } });\n        if (result.status === 200) {\n            //console.log(result);\n            return { error: false, data: result.data, msg: result.data.msg };\n        }\n        return { error: true, data: null, msg: 'Error interno del servidor' };\n    } catch (error) {\n        if (error && error.response && error.response.data && error.response.data.msg) {\n            return { error: true, data: null, msg: error.response.data.msg };\n        }\n        console.log(error.response)\n        return { error: true, data: null, msg: 'Error interno del servidor' };\n    }\n}\n\nexport const createSource = async (data) => {\n    console.log(\"data\")\n    console.log(data)\n    try {\n        //const result = await axios.post(`${URL}source`, data, { headers: { 'Content-Type': 'application/json' } });\n        const result = await axios.post(`${URL}newsource`, data, { headers: { 'Content-Type': 'application/json' } });\n        if (result.status === 201) {\n            return { error: false, data: result.data, msg: 'Elemento creado' };\n        }\n        return { error: true, data: null, msg: 'Error interno del servidor' };\n    } catch (error) {\n        if (error && error.response && error.response.data && error.response.data.msg) {\n            return { error: true, data: null, msg: error.response.data.msg };\n        }\n        \n        return { error: true, data: null, msg: 'Error interno del servidor' };\n    }\n}\n\nexport const deleteSource  = async (source) => {\n    try {\n        const result = await axios.delete(`${URL}newsource?id=${source}`, { headers: { 'Content-Type': 'application/json' } });\n        //console.log(category+\"hola1\")\n        if (result.status === 204) {\n            return { error: false, data: null, msg: 'Elemento borrado' };\n        }\n        return { error: true, data: null, msg: 'Error interno del servidor' };\n    } catch (error) {\n        if (error && error.response && error.response.data && error.response.data.msg) {\n            return { error: true, data: null, msg: error.response.data.msg };\n        }\n        console.log(source+\"hola2\")\n        console.log(error.response)\n        return { error: true, data: null, msg: 'Error interno del servidor' };\n    }\n}\n\nexport const updateSource  = async (source) => {\n    console.log(\"source._id\");\n   console.log(source._id);\n    try {\n        const result = await axios.patch(`${URL}newsource`, source, { headers: { 'Content-Type': 'application/json' } });\n        if (result.status === 200) {\n            return { error: false, source: result.data, msg: 'Elemento guardado' };\n        }\n        return { error: true, source: null, msg: 'Error interno del servidor' };\n    } catch (error) {\n        if (error && error.response && error.response.source && error.response.source.msg) {\n            return { error: true, source: null, msg: error.response.source.msg };\n        }\n        console.log(error.response)\n        return { error: true, source: null, msg: 'Error interno del servidor' };\n    }\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}